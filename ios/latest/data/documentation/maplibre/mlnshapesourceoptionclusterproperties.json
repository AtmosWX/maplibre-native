{"variants":[{"traits":[{"interfaceLanguage":"occ"}],"paths":["\/documentation\/maplibre\/mlnshapesourceoptionclusterproperties"]}],"metadata":{"title":"MLNShapeSourceOptionClusterProperties","symbolKind":"var","roleHeading":"Global Variable","fragments":[{"kind":"identifier","text":"MLNShapeSourceOptionClusterProperties"}],"externalID":"c:@MLNShapeSourceOptionClusterProperties","navigatorTitle":[{"text":"MLNShapeSourceOptionClusterProperties","kind":"identifier"}],"role":"symbol","modules":[{"name":"MapLibre"}]},"schemaVersion":{"minor":3,"patch":0,"major":0},"primaryContentSections":[{"kind":"declarations","declarations":[{"platforms":["iOS"],"tokens":[{"text":"extern","kind":"keyword"},{"kind":"text","text":" "},{"text":"NSString","kind":"typeIdentifier","preciseIdentifier":"c:objc(cs)NSString"},{"text":" * ","kind":"text"},{"text":"MLNShapeSourceOptionClusterProperties","kind":"identifier"},{"text":";","kind":"text"}],"languages":["occ"]}]},{"kind":"content","content":[{"anchor":"discussion","text":"Discussion","level":2,"type":"heading"},{"inlineContent":[{"type":"text","text":"The first object determines how the attribute values are accumulated from the"},{"text":" ","type":"text"},{"type":"text","text":"cluster points. It is an "},{"type":"codeVoice","code":"NSExpression"},{"type":"text","text":" with an expression function that accepts"},{"type":"text","text":" "},{"type":"text","text":"two or more arguments, such as "},{"code":"sum","type":"codeVoice"},{"text":" or ","type":"text"},{"code":"max","type":"codeVoice"},{"type":"text","text":". The arguments should be"},{"text":" ","type":"text"},{"code":"featureAccumulated","type":"codeVoice"},{"text":" and the previously defined feature attribute key. The","type":"text"},{"type":"text","text":" "},{"text":"resulting value is assigned to the specified attribute key.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"text":"The second ","type":"text"},{"type":"codeVoice","code":"NSExpression"},{"type":"text","text":" in the array determines which"},{"text":" ","type":"text"},{"text":"attribute values are accessed from individual features within a cluster.","type":"text"}],"type":"paragraph"},{"code":["let firstExpression = NSExpression(format: \"sum:({$featureAccumulated, sumValue})\")","let secondExpression = NSExpression(forKeyPath: \"magnitude\")","let clusterPropertiesDictionary = [\"sumValue\" : [firstExpression, secondExpression]]","","let options : [MLNShapeSourceOption : Any] = [.clustered : true,","                                           .clusterProperties: clusterPropertiesDictionary]"],"syntax":"swift","type":"codeListing"},{"inlineContent":[{"type":"text","text":"This option corresponds to the"},{"type":"text","text":" "},{"text":"clusterProperties","type":"text"},{"type":"text","text":" "},{"type":"text","text":"source property in the MapLibre Style Spec."}],"type":"paragraph"},{"inlineContent":[{"text":"This option only affects point features within an ","type":"text"},{"code":"MLNShapeSource","type":"codeVoice"},{"type":"text","text":" object; it"},{"type":"text","text":" "},{"type":"text","text":"is ignored when creating an "},{"type":"codeVoice","code":"MLNComputedShapeSource"},{"type":"text","text":" object."}],"type":"paragraph"}]}],"sections":[],"hierarchy":{"paths":[["doc:\/\/org.swift.MyProject\/documentation\/MapLibre"]]},"identifier":{"url":"doc:\/\/org.swift.MyProject\/documentation\/MapLibre\/MLNShapeSourceOptionClusterProperties","interfaceLanguage":"occ"},"abstract":[{"type":"text","text":"An "},{"type":"codeVoice","code":"NSDictionary"},{"type":"text","text":" object where the key is an "},{"type":"codeVoice","code":"NSString"},{"text":". The dictionary key will","type":"text"},{"type":"text","text":" "},{"text":"be the feature attribute key. The resulting attribute value is","type":"text"},{"type":"text","text":" "},{"text":"aggregated from the clustered points. The dictionary value is an ","type":"text"},{"code":"NSArray","type":"codeVoice"},{"text":" ","type":"text"},{"text":"consisting of two ","type":"text"},{"code":"NSExpression","type":"codeVoice"},{"type":"text","text":" objects."}],"kind":"symbol","references":{"doc://org.swift.MyProject/documentation/MapLibre":{"abstract":[{"type":"text","text":"Powerful, free and open-source mapping toolkit with full control over data sources and styling."}],"identifier":"doc:\/\/org.swift.MyProject\/documentation\/MapLibre","kind":"symbol","url":"\/documentation\/maplibre","type":"topic","role":"collection","title":"MapLibre"},"doc://org.swift.MyProject/documentation/MapLibre/MLNShapeSourceOptionClusterProperties":{"identifier":"doc:\/\/org.swift.MyProject\/documentation\/MapLibre\/MLNShapeSourceOptionClusterProperties","fragments":[{"kind":"identifier","text":"MLNShapeSourceOptionClusterProperties"}],"abstract":[{"text":"An ","type":"text"},{"code":"NSDictionary","type":"codeVoice"},{"type":"text","text":" object where the key is an "},{"type":"codeVoice","code":"NSString"},{"type":"text","text":". The dictionary key will"},{"type":"text","text":" "},{"type":"text","text":"be the feature attribute key. The resulting attribute value is"},{"text":" ","type":"text"},{"text":"aggregated from the clustered points. The dictionary value is an ","type":"text"},{"type":"codeVoice","code":"NSArray"},{"type":"text","text":" "},{"type":"text","text":"consisting of two "},{"type":"codeVoice","code":"NSExpression"},{"type":"text","text":" objects."}],"url":"\/documentation\/maplibre\/mlnshapesourceoptionclusterproperties","type":"topic","role":"symbol","kind":"symbol","title":"MLNShapeSourceOptionClusterProperties"}}}